import je::internal::graphic;
import pkg::math;

public func entry(_: je::graphic::texture, _: (int, int), _: (int, int))
{
    return true;
}

func height(color: (real, real, real, real))
{
    let (r, g, b ,a) = color;
    return a + (0.22 * r + 0.707 * g + 0.071 * b);
}

public func pixel(t: je::graphic::texture, x: int, y: int)
    => (real, real, real, real)
{
    let (onx, ony, onz, a) = tex(t, x, y);
    return (onx, 1. - ony, onz, a);
}